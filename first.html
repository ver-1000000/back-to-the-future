<!DOCTYPE html>
<html lang="ja_JP">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FIRST | Back To The Future</title>
  </head>
  <body onload="document.querySelector('pre').innerText = document.querySelector('.s').text">
    <ul>
      <li>
        <a href="./index.html">index</a>
      </li>
      <li>
        <a href="./first.html">first</a>
      </li>
      <li>
        <a href="./second.html">second</a>
      </li>
    </ul>
    <pre></pre>
  </body>
  <script class="s">
    document.addEventListener('DOMContentLoaded', () => {
      let historyCount = 0;
      history.pushState(null, null, document.href);
      history.back();
      onpopstate = (e) => {
        history.forward();
        ++historyCount;
        if (historyCount > 2 && historyCount % 2) {
          alert('戻らせないよ');
        }
      };
    });
  </script>
</html>
